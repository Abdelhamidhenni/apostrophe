{%- extends "apostrophe-modal:baseSlideable.html" -%}
{%- import "apostrophe-modal:macros.html" as modals -%}
{%- import "piecesMacros.html" as pieces with context -%}
{%- import "apostrophe-schemas:macros.html" as schemas -%}

{%- block modalClass -%}
  {{ (data.name + '-manager') | css }} apos-ui-modal-no-sidebar apos-modal-slideable
{%- endblock -%}

{%- block controls -%}
  {{ pieces.manageControls(data) }}
{%- endblock -%}

{%- block filters -%}
  {# ajax populates me #}
  <div class="apos-ui-modal-filters-inner" data-manage-filters>
  </div>
{%- endblock -%}

{%- block label -%}
  {% if data.choose %}
    {{ __('Choose %s', __(data.options.pluralLabel) | e ) }}
  {% else %}
    {{ __('Manage %s', __(data.options.pluralLabel) | e ) }}
  {% endif %}
{%- endblock -%}

{%- block body -%}
  <div class="apos-table">
    <table data-manage-items class="apos-manage-table">
      <thead data-manage-headings>
        {# ajax populates me #}
      </thead>
      <tbody data-manage-list>
        {# ajax populates me #}
      </tbody>
    </table>
  </div>
  {# ajax populates me #}
  <div data-manage-pager class="apos-manage-pager"></div>
  {% if data.choose %}
    {# apos-manage-choose is used to hide components of jquery selective that #}
    {# don't make sense here, if you change the class name account for that. -Tom #}
    <div data-manage-choose class="apos-manage-choose">
      {{ schemas.fields([ data.choose ]) }}
    </div>
  {% endif %}
{%- endblock -%}
